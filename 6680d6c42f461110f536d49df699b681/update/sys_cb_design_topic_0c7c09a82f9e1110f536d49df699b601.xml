<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic">
    <sys_cb_design_topic action="INSERT_OR_UPDATE">
        <compiled_topic display_value="_PRVW__4c7c09a4cb9e1110fc1772545f577558">007cc5a82f9e1110f536d49df699b6ff</compiled_topic>
        <design_definition>{"type":"FlowTopic","triggers":[{"type":"Trigger","name":"204dbe1a782e41fdb542364cfbd14392","triggerType":"request","applicability":{"type":"Applicability","mode":"script","value":"true"},"id":"204dbe1a782e41fdb542364cfbd14392"}],"goals":[{"name":"primary","trigger_id":"204dbe1a782e41fdb542364cfbd14392","nodes":[{"type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","mode":"string","value":"gs.getMessageLang(\"I can help you find and update NeedIt records for a type of request.\", vaContext.getRequesterLang())"},"id":"e7ebb267a7d74eb3bc8edfc55142e02e","name":"Start"},{"type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","mode":"string","value":"gs.getMessageLang(\"Ask again when you need to update other NeedIt records.\", vaContext.getRequesterLang())"},"id":"cbf7245a64b6471a82f3c1ac0340c33b","name":"End"},{"type":"ChoiceInputPrompt","expression_mode":"simple","metadataScript":"","cardName":"","cardFields":[],"id":"2bfb4435b5f54eeea677577ebe22b547","name":"NeedIt Type","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"variable_id":"1982a1ea4296461480e72ddeba219845","message":{"type":"String","mode":"string","value":"gs.getMessageLang(\"Which type of NeedIt record would you like to view?\", vaContext.getRequesterLang())"},"skippable":{"type":"Applicability","mode":"script","value":"false"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true}},{"type":"OutputPrompt","value":{"type":"String","mode":"script","value":"(function execute() {\n      // Return the display value (Label) for the needit_type choice\n      return 'You selected: ' + vaInputs.needit_type.getDisplayValue();\n  })()"},"id":"097304ba33e14aa5b536e485fa0e774b","name":"Confirm NeedIt Type","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"secure":false},{"type":"ReferenceChoiceInputPrompt","mode":"external","id":"782a76cd915f49dc9767f808466ab16c","name":"NeedIt List","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"variable_id":"8464647db7224f5ea5cb2dd100344cb1","message":{"type":"String","mode":"string","value":"gs.getMessageLang(\"Select a NeedIt record to view.\", vaContext.getRequesterLang())"},"skippable":{"type":"Applicability","mode":"script","value":"false"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"expression_mode":"script","script":"(function execute(table) {\n  \n      // Initialize an array for the list of NeedIt records to show\n      var options = [];\n  \n      // Query the table selected in the Table field for active records with the \n      // u_request_type selected in the NeedIt Type node where the user is the \n      // u_requested_for. Order the results by the When needed value.\n      var grNI = new GlideRecord(table);\n      grNI.addQuery('u_request_type',vaInputs.needit_type.getValue());\n      grNI.addQuery('active','true');\n      grNI.addQuery('u_requested_for',vaInputs.user);\n      grNI.orderBy('u_when_needed');\n      grNI.query();\n  \n      // Push a value and label pair to the array for each record the query returns.\n      // The value is the unique value. The label is the number, u_when_needed, and         // short_description values for the NeedIt record.\n      while(grNI.next()) {\n          options.push({ 'value': grNI.getUniqueValue(), 'label': grNI.getValue('number') + \" (\" + grNI.getDisplayValue('u_when_needed') + \"): \" + grNI.getValue('short_description') });\n      }\n  \n      // Return the array\n      return options;\n  \n  })(table)","metadataScript":"","cardName":"","cardFields":[],"no_options_found_message":{"type":"String","mode":"string","value":"gs.getMessageLang(\"You have no open NeedIt records.\", vaContext.getRequesterLang())"},"condition":{"type":"Condition","mode":"glide_scripted_query","value":"(function execute(table) {\n  \n      // Initialize an array for the list of NeedIt records to show\n      var options = [];\n  \n      // Query the table selected in the Table field for active records with the \n      // u_request_type selected in the NeedIt Type node where the user is the \n      // u_requested_for. Order the results by the When needed value.\n      var grNI = new GlideRecord(table);\n      grNI.addQuery('u_request_type',vaInputs.needit_type.getValue());\n      grNI.addQuery('active','true');\n      grNI.addQuery('u_requested_for',vaInputs.user);\n      grNI.orderBy('u_when_needed');\n      grNI.query();\n  \n      // Push a value and label pair to the array for each record the query returns.\n      // The value is the unique value. The label is the number, u_when_needed, and         // short_description values for the NeedIt record.\n      while(grNI.next()) {\n          options.push({ 'value': grNI.getUniqueValue(), 'label': grNI.getValue('number') + \" (\" + grNI.getDisplayValue('u_when_needed') + \"): \" + grNI.getValue('short_description') });\n      }\n  \n      // Return the array\n      return options;\n  \n  })(table)"}},{"type":"RecordOutputPrompt","mode":"variable","table":"x_58872_needit_needit","variable_id":"8464647db7224f5ea5cb2dd100344cb1","fields":["priority","short_description","u_when_needed"],"id":"84529055a72d4270bafa189583131260","name":"NeedIt Card","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"condition":{"type":"Condition","mode":"glide_query","value":""}},{"type":"InputPrompt","variable_id":"3ffe24be05c34749a7372ec531f3b997","message":{"type":"String","mode":"string","value":"gs.getMessageLang(\"Would you like to view another NeedIt Record?\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","mode":"script","value":"false"},"id":"11851357e0854e6981e81892666b0cbc","name":"Search Again","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"Decision","name":"Find more NeedIt records?","branches":[{"type":"Branch","label":"No","expression":{"type":"Applicability","mode":"query","value":"search_again=false"},"id":"83fe6ceb6a974e3ca5a22450a6da2077","name":"No"},{"type":"Branch","label":"Yes","expression":{"type":"Applicability","mode":"query","value":"search_again=true"},"id":"a72a3a65f66143b790c0ba5eebe8c1eb","name":"Yes"}],"id":"7142f48ba5fd447e920791a3d1f724a4","goal_id":"primary"},{"type":"InputPrompt","variable_id":"2d2e4bd5f33340c9b75db77479c6809b","message":{"type":"String","mode":"string","value":"gs.getMessageLang(\"When do you need the NeedIt completed?\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","mode":"script","value":"false"},"id":"5e935195f640478b84eccb31737898d3","name":"New When Needed Date","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"CRUDAction","mode":"update","query":"u_when_needed={{vaInputs.new_when_needed_date}}","variable_id":"8464647db7224f5ea5cb2dd100344cb1","id":"be8117cc80914fea941a0110b1b52eb4","name":"Change When Needed Date","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"RecordOutputPrompt","mode":"variable","table":"x_58872_needit_needit","variable_id":"8464647db7224f5ea5cb2dd100344cb1","fields":["u_when_needed"],"id":"59558cff1dda47f1bf222be3ee23d51d","name":"Updated NeedIt","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"condition":{"type":"Condition","mode":"glide_query","value":""}},{"type":"ChoiceInputPrompt","expression_mode":"simple","metadataScript":"","cardName":"","cardFields":[],"id":"8017fa415ea84a25b416cf97caf511ac","name":"What To Update","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"variable_id":"f5c656497d694d6a930cbcf64ff51b52","message":{"type":"String","mode":"string","value":"gs.getMessageLang(\"What would you like to update?\", vaContext.getRequesterLang())"},"skippable":{"type":"Applicability","mode":"script","value":"false"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true}},{"type":"Decision","name":"Decision","branches":[{"type":"Branch","label":"When needed","expression":{"type":"Applicability","mode":"query","value":"what_to_update=When needed"},"id":"4c80434677d34aa2897efa59eba19410","name":"When needed"},{"type":"Branch","label":"Short description","expression":{"type":"Applicability","mode":"query","value":"what_to_update=Short description"},"id":"ba60d3de23ea4481a3be0ac38869fbf3","name":"Short description"},{"type":"Branch","label":"Nothing","expression":{"type":"Applicability","mode":"query","value":"what_to_update=Nothing"},"id":"b205d0715c034d6fa91b6726cc77f521","name":"Nothing"}],"id":"e88517e58b27478cbabe5b2d2bb80c1e","goal_id":"primary"},{"type":"InputPrompt","variable_id":"86c5b2065ccf4059ae018a4d0f379940","message":{"type":"String","mode":"string","value":"gs.getMessageLang(\"Short description\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","mode":"script","value":"false"},"id":"3ae830ae1c6a4981a803df086e961ec1","name":"New Short Description","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"CRUDAction","mode":"read","read_mode":"variable","query":"short_description={{vaInputs.change_short_description.short_description}}","variable_id":"2a345e56d7a54d8bb2e47ea2b6e60264","id":"286e5b020c914ae5ab20c6d9fe8a11fc","name":"Change Short Description","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"condition":{"type":"Condition","mode":"glide_query","value":"short_description={{vaInputs.change_short_description.short_description}}"}},{"type":"ScriptedAction","script":"(function execute() {\n      // Add 1 to the search_count variable\n      vaVars.search_count = vaVars.search_count + 1;\n  })()","id":"73676f0374554ee2874a756f3c628901","name":"Update search_count","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"Decision","name":"search count","branches":[{"type":"Branch","label":"3 or more","expression":{"type":"Applicability","mode":"query","value":""},"id":"89cf071902994cbc84e3d2c30d2d3ef6","name":"3 or more"},{"type":"Branch","label":"Less than 3","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    \n    if (vaVars.search_count &lt; 3)\n        return true;\n    else\n        return false;\n\n})()\n"},"id":"064fd37f7e7740a4adc236e95cb9fa21","name":"Less than 3"}],"id":"0fbdf0e5d1d64eb4891e915992304b43","goal_id":"primary"}],"edges":[{"type":"Edge","source_node_id":"e7ebb267a7d74eb3bc8edfc55142e02e","target_node_id":"2bfb4435b5f54eeea677577ebe22b547","id":"f513668c755d46beb8d1846615cd64ef"},{"type":"Edge","source_node_id":"2bfb4435b5f54eeea677577ebe22b547","target_node_id":"097304ba33e14aa5b536e485fa0e774b","id":"79ce1124420c412ab58dcb5b8d5c42f8"},{"type":"Edge","source_node_id":"097304ba33e14aa5b536e485fa0e774b","target_node_id":"782a76cd915f49dc9767f808466ab16c","id":"eb037bd0358a446db7463f43ca424959"},{"type":"Edge","source_node_id":"782a76cd915f49dc9767f808466ab16c","target_node_id":"84529055a72d4270bafa189583131260","id":"cf46f0ee46814188af2eb3a2dfac196d"},{"type":"Edge","source_node_id":"11851357e0854e6981e81892666b0cbc","target_node_id":"7142f48ba5fd447e920791a3d1f724a4","id":"431fd1c6a5bd407f9e043ed8d85ac10f"},{"type":"Edge","source_node_id":"7142f48ba5fd447e920791a3d1f724a4","target_node_id":"cbf7245a64b6471a82f3c1ac0340c33b","branch_id":"83fe6ceb6a974e3ca5a22450a6da2077","id":"19ac2d5802ab444cb2d94f7bdae3adf2","name":"83fe6ceb6a974e3ca5a22450a6da2077"},{"type":"Edge","source_node_id":"5e935195f640478b84eccb31737898d3","target_node_id":"be8117cc80914fea941a0110b1b52eb4","id":"60342ec3e27346e5998309049ce9c63d"},{"type":"Edge","source_node_id":"be8117cc80914fea941a0110b1b52eb4","target_node_id":"59558cff1dda47f1bf222be3ee23d51d","id":"d8864ad25f35451183b09cb3bf846150"},{"type":"Edge","source_node_id":"59558cff1dda47f1bf222be3ee23d51d","target_node_id":"11851357e0854e6981e81892666b0cbc","id":"0fda4a56d309474b8aa1b8fc7dcb2cd4"},{"type":"Edge","source_node_id":"84529055a72d4270bafa189583131260","target_node_id":"8017fa415ea84a25b416cf97caf511ac","id":"fabe647fd0aa42e8a7f9cd9f01c8925b"},{"type":"Edge","source_node_id":"8017fa415ea84a25b416cf97caf511ac","target_node_id":"e88517e58b27478cbabe5b2d2bb80c1e","id":"f26a6996469841128cbd6bf3bfadb96e"},{"type":"Edge","source_node_id":"e88517e58b27478cbabe5b2d2bb80c1e","target_node_id":"5e935195f640478b84eccb31737898d3","branch_id":"4c80434677d34aa2897efa59eba19410","id":"96b45a579e5c42edbd53d8b749145b7f","name":"4c80434677d34aa2897efa59eba19410"},{"type":"Edge","source_node_id":"e88517e58b27478cbabe5b2d2bb80c1e","target_node_id":"3ae830ae1c6a4981a803df086e961ec1","branch_id":"ba60d3de23ea4481a3be0ac38869fbf3","id":"e26d71c383524984ae880d7e27054b5f","name":"ba60d3de23ea4481a3be0ac38869fbf3"},{"type":"Edge","source_node_id":"3ae830ae1c6a4981a803df086e961ec1","target_node_id":"286e5b020c914ae5ab20c6d9fe8a11fc","id":"c5d3d4395a6f4f7f98cbf12ea2c7e88f"},{"type":"Edge","source_node_id":"286e5b020c914ae5ab20c6d9fe8a11fc","target_node_id":"59558cff1dda47f1bf222be3ee23d51d","id":"9a7cf5aadbbe4e36821e27d800da8c74"},{"type":"Edge","source_node_id":"e88517e58b27478cbabe5b2d2bb80c1e","target_node_id":"11851357e0854e6981e81892666b0cbc","branch_id":"b205d0715c034d6fa91b6726cc77f521","id":"9e42fc231dac4bfbadb5d76b9ab96eb1","name":"b205d0715c034d6fa91b6726cc77f521"},{"type":"Edge","source_node_id":"7142f48ba5fd447e920791a3d1f724a4","target_node_id":"73676f0374554ee2874a756f3c628901","branch_id":"a72a3a65f66143b790c0ba5eebe8c1eb","id":"1197197ba19e4129b9d8b48ebb8e3b0d","name":"a72a3a65f66143b790c0ba5eebe8c1eb"},{"type":"Edge","source_node_id":"73676f0374554ee2874a756f3c628901","target_node_id":"0fbdf0e5d1d64eb4891e915992304b43","id":"99fa3b715d2a40488c6f3990cbf6930d"},{"type":"Edge","source_node_id":"0fbdf0e5d1d64eb4891e915992304b43","target_node_id":"cbf7245a64b6471a82f3c1ac0340c33b","branch_id":"89cf071902994cbc84e3d2c30d2d3ef6","id":"d6bc9ac139f54cc2a8e28358c212ca33","name":"89cf071902994cbc84e3d2c30d2d3ef6"},{"type":"Edge","source_node_id":"0fbdf0e5d1d64eb4891e915992304b43","target_node_id":"2bfb4435b5f54eeea677577ebe22b547","branch_id":"064fd37f7e7740a4adc236e95cb9fa21","id":"77c9e0a9d6884af48b3768af622cdd05","name":"064fd37f7e7740a4adc236e95cb9fa21"}],"id":"primary"}],"script_variables":[{"type":"String","name":"LiveAgent_application","value":{"type":"String","mode":"string"},"list":false,"id":"2c8f747f1d1b40d5a338abb922f050cf","formatType":"text","secure":false,"sensitive":false},{"type":"String","name":"search_count","value":{"type":"String","mode":"string","value":"0"},"list":false,"id":"e65a779815784d78b271d29f1cc04336","formatType":"text","secure":false,"sensitive":false}],"glide_variables":[{"type":"Reference","table":"sys_user","id":"current-user","name":"user","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"Choice","choices":[{"name":"Legal","element":"legal"},{"name":"Facilities","element":"facilities"},{"name":"Human Resources","element":"human resources"}],"id":"1982a1ea4296461480e72ddeba219845","name":"needit_type","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"Reference","table":"x_58872_needit_needit","id":"8464647db7224f5ea5cb2dd100344cb1","name":"needit_list","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"True/False","id":"3ffe24be05c34749a7372ec531f3b997","name":"search_again","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"Date/Time","mode":"date","id":"2d2e4bd5f33340c9b75db77479c6809b","name":"new_when_needed_date","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"Reference","table":"","id":"cb5664b61db14e488b3fda872e08a938","name":"change_when_needed_date","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"Choice","choices":[{"name":"ShortDescription","element":"Short description"},{"name":"WhenNeeded","element":"When needed"},{"name":"Nothing","element":"Nothing"}],"id":"f5c656497d694d6a930cbcf64ff51b52","name":"what_to_update","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"String","name":"new_short_description","list":false,"id":"86c5b2065ccf4059ae018a4d0f379940","formatType":"Text","validationScript":"","secure":false,"sensitive":false},{"type":"Reference","table":"x_58872_needit_needit","id":"2a345e56d7a54d8bb2e47ea2b6e60264","name":"change_short_description","formatType":"text","secure":false,"sensitive":false,"list":false}],"applicability":{"type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"6680d6c42f461110f536d49df699b681","domain":"global","topic_type":"STANDARD","channels":[],"id":"9cea1ac02f861110f536d49df699b674","name":"_PRVW__4c7c09a4cb9e1110fc1772545f577558","key_phrases":["Update NeedIt Records","NeedIt Request","need something"],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":false,"autopilot_topic":false,"design_categories":[{"name":null,"visible":false,"sysId":"4dc4d6cc2f461110f536d49df699b60a"}],"triggerable_by_notification":false,"library":false,"readOnly":false,"nluMapping":"[]"}</design_definition>
        <design_topic_id>9cea1ac02f861110f536d49df699b674</design_topic_id>
        <name>_PRVW__4c7c09a4cb9e1110fc1772545f577558</name>
        <sys_class_name>sys_cb_design_topic</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-09-29 07:06:25</sys_created_on>
        <sys_domain>global</sys_domain>
        <sys_id>0c7c09a82f9e1110f536d49df699b601</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>FlowTopic</sys_name>
        <sys_package display_value="NeedIt Virtual Agent Conversations" source="x_842844_needit_vi">6680d6c42f461110f536d49df699b681</sys_package>
        <sys_policy/>
        <sys_scope display_value="NeedIt Virtual Agent Conversations">6680d6c42f461110f536d49df699b681</sys_scope>
        <sys_update_name>sys_cb_design_topic_0c7c09a82f9e1110f536d49df699b601</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-09-29 07:06:25</sys_updated_on>
        <type>FlowTopic</type>
    </sys_cb_design_topic>
</record_update>
